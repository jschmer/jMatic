!function(){"use strict";angular.module("mobile-angular-ui.gestures.drag",["mobile-angular-ui.gestures.touch","mobile-angular-ui.gestures.transform"]).provider("$drag",function(){this.$get=["$touch","$document","$transform",function(a,b,c){var d=document.createElement("style");d.appendChild(document.createTextNode("")),document.head.appendChild(d);var e=d.sheet;return e.insertRule("html .ui-drag-move{z-index: 99999 !important;}",0),e.insertRule("html .ui-drag-move{-webkit-transition: none !important;-moz-transition: none !important;-o-transition: none !important;-ms-transition: none !important;transition: none !important;}",0),e.insertRule("html .ui-drag-move, html .ui-drag-move *{-webkit-touch-callout: none !important;-webkit-user-select: none !important;-khtml-user-select: none !important;-moz-user-select: none !important;-ms-user-select: none !important;user-select: none !important;}",0),d=e=null,{NULL_TRANSFORM:function(a,b){return b},TRANSLATE_BOTH:function(a,b,c){return b.translateX=c.distanceX,b.translateY=c.distanceY,b},TRANSLATE_HORIZONTAL:function(a,b,c){return b.translateX=c.distanceX,b.translateY=0,b},TRANSLATE_UP:function(a,b,c){return b.translateY=c.distanceY<=0?c.distanceY:0,b.translateX=0,b},TRANSLATE_DOWN:function(a,b,c){return b.translateY=c.distanceY>=0?c.distanceY:0,b.translateX=0,b},TRANSLATE_LEFT:function(a,b,c){return b.translateX=c.distanceX<=0?c.distanceX:0,b.translateY=0,b},TRANSLATE_RIGHT:function(a,b,c){return b.translateX=c.distanceX>=0?c.distanceX:0,b.translateY=0,b},TRANSLATE_VERTICAL:function(a,b,c){return b.translateX=0,b.translateY=c.distanceY,b},TRANSLATE_INSIDE:function(a){return a=a.length?a[0]:a,function(b,c,d){b=b.length?b[0]:b;var e,f,g=b.getBoundingClientRect(),h=a instanceof HTMLElement?a.getBoundingClientRect():a;return e=g.width>=h.width?0:g.right+d.stepX>h.right?h.right-g.right:g.left+d.stepX<h.left?h.left-g.left:d.stepX,f=g.height>=h.height?0:g.bottom+d.stepY>h.bottom?h.bottom-g.bottom:g.top+d.stepY<h.top?h.top-g.top:d.stepY,c.translateX+=e,c.translateY+=f,c}},bind:function(b,d,e){b=angular.element(b),d=d||{},e=e||{};var f,g,h=d.start,i=d.end,j=d.move,k=d.cancel,l=d.transform||this.TRANSLATE_BOTH,m=b[0],n=c.get(b),o=m.getBoundingClientRect(),p=!1,q=function(){return p},r=function(){p=!1,f=g=null,b.removeClass("ui-drag-move")},s=function(){c.set(m,n)},t=function(){c.set(m,f||n)},u=function(){p=!0,g=m.getBoundingClientRect(),f=c.get(m),b.addClass("ui-drag-move")},v=function(a){return a=angular.extend({},a),a.originalTransform=n,a.originalRect=o,a.startRect=g,a.rect=m.getBoundingClientRect(),a.startTransform=f,a.transform=c.get(m),a.reset=s,a.undo=t,a},w=function(a,d){if(d.preventDefault(),q()){a=v(a);var e=l(b,angular.extend({},a.transform),a,d);c.set(m,e),j&&j(a,d)}else u(),h&&h(v(a),d)},x=function(a,b){q()&&(a=v(a),r(),i&&i(a,b))},y=function(a,b){q()&&(a=v(a),t(),r(),k&&k(a,b))};return a.bind(b,{move:w,end:x,cancel:y})}}}]})}(),function(){"use strict";var a=angular.module("mobile-angular-ui.gestures.swipe",["mobile-angular-ui.gestures.touch"]);a.factory("$swipe",["$touch",function(a){return{bind:function(b,c,d){var e={pointerTypes:d,movementThreshold:10,preventScroll:function(a){return a.totalY<=a.totalX}};return a.bind(b,c,e)}}}]);var b=function(b,c,d){a.directive(b,["$parse","$swipe",function(a,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var b=Math.abs(a.y-m.y),d=(a.x-m.x)*c;return n&&f>b&&d>0&&d>h&&g>b/d}var m,n,o=a(k[b]),p=["touch"];angular.isDefined(k.ngSwipeDisableMouse)||p.push("mouse"),e.bind(j,{start:function(a){m=a,n=!0},cancel:function(){n=!1},end:function(a,b){b.__UiSwipeHandled__||(b.__UiSwipeHandled__=!0,l(a)&&i.$apply(function(){j.triggerHandler(d),o(i,{$event:b})}))}},p)}}])};b("ngSwipeLeft",-1,"swipeleft"),b("ngSwipeRight",1,"swiperight")}(),function(){"use strict";var a=angular.module("mobile-angular-ui.gestures.touch",[]);a.provider("$touch",function(){var a=!0,b=1,c={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}},d=["mouse","touch"],e=!0;this.setPointerEvents=function(a){c=a},this.setPointerTypes=function(a){c=a},this.setPreventScroll=function(b){a=b},this.setMovementThreshold=function(a){b=a},this.setAllowOuterMovement=function(a){e=!!a};var f=Math.abs,g=Math.asin,h=Math.sqrt,i=function(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}},j=function(a,b){var d=[];return angular.forEach(a,function(a){var e=c[a][b];e&&d.push(e)}),d.join(" ")},k=function(){return new Date},l=function(a,b){return b=b||k(),f(b-a)},m=function(a,b){return h(a*a+b*b)},n=function(a,b,c,d){c=c||{},d=d||{};var e=k(),h=c.timestamp||e,i=d.timestamp||h,j=b.x,n=b.y,o=c.x||j,p=c.y||n,q=d.x||o,r=d.y||p,s=d.totalX||0,t=d.totalY||0,u=s+f(j-q),v=t+f(n-r),w=m(u,v),x=l(e,h),y=l(e,i),z=j-q,A=n-r,B=m(z,A),C=j-o,D=n-p,E=m(C,D),F=y>0?f(B/(y/1e3)):0,G=0!==E?g(D/E)*(180/Math.PI):null;return{type:a,timestamp:e,duration:x,startX:o,startY:p,prevX:q,prevY:r,x:b.x,y:b.y,step:B,stepX:z,stepY:A,velocity:F,distance:E,distanceX:C,distanceY:D,total:w,totalX:u,totalY:v,direction:G}};this.$get=["$document",function(c){return{bind:function(f,g,h){f=angular.element(f),h=h||{};var k,l,m=h.pointerTypes||d,o=void 0===h.preventScroll?a:h.preventScroll,p=void 0===h.movementThreshold?b:h.preventScroll,q=void 0===h.allowOuterMovement?e:h.allowOuterMovement,r=j(m,"start"),s=j(m,"end"),t=j(m,"move"),u=j(m,"cancel"),v=g.start,w=g.end,x=g.move,y=g.cancel,z=q?c:f,A=function(){k=l=null,z.off(t,E),z.off(s,F)},B=function(){return!!k},C=function(a){l=k=n("touchstart",i(a)),z.on(t,E),z.on(s,F),v&&v(k,a)},D=function(a){var b=n("touchcancel",i(a),k,l);A(),y&&y(b,a)},E=function(a){if(B()){var b=i(a);if(!(b.x<0||b.x>window.innerWidth||b.y<0||b.y>window.innerHeight)){var c=n("touchmove",b,k,l),d=c.totalX,e=c.totalY;if(l=c,!(p>d&&p>e)){var f="function"==typeof o?o(c):o;if(!f)return A(),void(y&&y(c,a));a.preventDefault(),x&&x(c,a)}}}},F=function(a){if(B()){var b=l;w&&setTimeout(function(){w(angular.extend({},b,{type:"touchend"}),a)},0),A()}};return f.on(r,C),u&&f.on(u,D),function(){f&&(f.off(r,C),u&&f.off(u,D),z.off(t,E),z.off(s,F),f=z=r=u=t=s=C=D=E=F=m=o=p=q=null)}}}}]})}(),function(){"use strict";var a=angular.module("mobile-angular-ui.gestures.transform",[]);a.factory("$transform",function(){for(var a,b,c,d=["","webkit","Moz","O","ms"],e=document.createElement("div"),f=0;f<d.length;f++){var g=d[f];if(g+"Perspective"in e.style){a=""===g?"":"-"+g.toLowerCase()+"-",c=g+(""===g?"transform":"Transform"),b=a+"transform";break}}e=null;var h=function(a){a=a.length?a[0]:a;var c=window.getComputedStyle(a,null).getPropertyValue(b);return c},i=function(a,b){a=a.length?a[0]:a,a.style[c]=b},j=1e-7,k=function(a){return 180*a/Math.PI},l=Math.sqrt,m=Math.asin,n=Math.atan2,o=Math.cos,p=Math.abs,q=Math.floor,r=function(a){for(var b=[[],[],[],[]],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)b[c][d]=a[c][d];return b},s=function(a,b,c,d){return a*d-b*c},t=function(a,b,c,d,e,f,g,h,i){return a*s(e,f,h,i)-d*s(b,c,h,i)+g*s(b,c,e,f)},u=function(a){var b=a[0][0],c=a[0][1],d=a[0][2],e=a[0][3],f=a[1][0],g=a[1][1],h=a[1][2],i=a[1][3],j=a[2][0],k=a[2][1],l=a[2][2],m=a[2][3],n=a[3][0],o=a[3][1],p=a[3][2],q=a[3][3];return b*t(g,k,o,h,l,p,i,m,q)-c*t(f,j,n,h,l,p,i,m,q)+d*t(f,j,n,g,k,o,i,m,q)-e*t(f,j,n,g,k,o,h,l,p)},v=function(a){var b=[[],[],[],[]],c=a[0][0],d=a[0][1],e=a[0][2],f=a[0][3],g=a[1][0],h=a[1][1],i=a[1][2],j=a[1][3],k=a[2][0],l=a[2][1],m=a[2][2],n=a[2][3],o=a[3][0],p=a[3][1],q=a[3][2],r=a[3][3];return b[0][0]=t(h,l,p,i,m,q,j,n,r),b[1][0]=-t(g,k,o,i,m,q,j,n,r),b[2][0]=t(g,k,o,h,l,p,j,n,r),b[3][0]=-t(g,k,o,h,l,p,i,m,q),b[0][1]=-t(d,l,p,e,m,q,f,n,r),b[1][1]=t(c,k,o,e,m,q,f,n,r),b[2][1]=-t(c,k,o,d,l,p,f,n,r),b[3][1]=t(c,k,o,d,l,p,e,m,q),b[0][2]=t(d,h,p,e,i,q,f,j,r),b[1][2]=-t(c,g,o,e,i,q,f,j,r),b[2][2]=t(c,g,o,d,h,p,f,j,r),b[3][2]=-t(c,g,o,d,h,p,e,i,q),b[0][3]=-t(d,h,l,e,i,m,f,j,n),b[1][3]=t(c,g,k,e,i,m,f,j,n),b[2][3]=-t(c,g,k,d,h,l,f,j,n),b[3][3]=t(c,g,k,d,h,l,e,i,m),b},w=function(a){var b=v(a),c=u(a);if(p(c)<j)return!1;for(var d=0;4>d;d++)for(var e=0;4>e;e++)b[d][e]=b[d][e]/c;return b},x=function(a){for(var b=[[],[],[],[]],c=0;4>c;c++)for(var d=0;4>d;d++)b[c][d]=a[d][c];return b},y=function(a,b){var c=[];return c[0]=a[0]*b[0][0]+a[1]*b[1][0]+a[2]*b[2][0]+a[3]*b[3][0],c[1]=a[0]*b[0][1]+a[1]*b[1][1]+a[2]*b[2][1]+a[3]*b[3][1],c[2]=a[0]*b[0][2]+a[1]*b[1][2]+a[2]*b[2][2]+a[3]*b[3][2],c[3]=a[0]*b[0][3]+a[1]*b[1][3]+a[2]*b[2][3]+a[3]*b[3][3],c},z=function(a){return l(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])},A=function(a,b){var c=[],d=z(a);if(0!==d){var e=b/d;c[0]*=e,c[1]*=e,c[2]*=e}return c},B=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},C=function(a,b,c,d){var e=[];return e[0]=c*a[0]+d*b[0],e[1]=c*a[1]+d*b[1],e[2]=c*a[2]+d*b[2],e},D=function(a,b){var c=[];return c[0]=a[1]*b[2]-a[2]*b[1],c[1]=a[2]*b[0]-a[0]*b[2],c[2]=a[0]*b[1]-a[1]*b[0],c},E=function(a){var b,c,d={},e=r(a);if(0===e[3][3])return!1;for(b=0;4>b;b++)for(c=0;4>c;c++)e[b][c]/=e[3][3];var f=r(e);for(b=0;3>b;b++)f[b][3]=0;if(f[3][3]=1,0===u(f))return!1;if(0!==e[0][3]||0!==e[1][3]||0!==e[2][3]){var g=[];g[0]=e[0][3],g[1]=e[1][3],g[2]=e[2][3],g[3]=e[3][3];var h=w(f),i=x(h),j=y(g,i);d.perspectiveX=j[0],d.perspectiveY=j[1],d.perspectiveZ=j[2],d.perspectiveW=j[3],e[0][3]=e[1][3]=e[2][3]=0,e[3][3]=1}else d.perspectiveX=d.perspectiveY=d.perspectiveZ=0,d.perspectiveW=1;d.translateX=e[3][0],e[3][0]=0,d.translateY=e[3][1],e[3][1]=0,d.translateZ=e[3][2],e[3][2]=0;var l,p=[[],[],[]];for(b=0;3>b;b++)p[b][0]=e[b][0],p[b][1]=e[b][1],p[b][2]=e[b][2];if(d.scaleX=z(p[0]),A(p[0],1),d.skewXY=B(p[0],p[1]),C(p[1],p[0],p[1],1,-d.skewXY),d.scaleY=z(p[1]),A(p[1],1),d.skewXY/=d.scaleY,d.skewXZ=B(p[0],p[2]),C(p[2],p[0],p[2],1,-d.skewXZ),d.skewYZ=B(p[1],p[2]),C(p[2],p[1],p[2],1,-d.skewYZ),d.scaleZ=z(p[2]),A(p[2],1),d.skewXZ/=d.scaleZ,d.skewYZ/=d.scaleZ,l=D(p[1],p[2]),B(p[0],l)<0)for(b=0;3>b;b++)d.scaleX*=-1,p[b][0]*=-1,p[b][1]*=-1,p[b][2]*=-1;return d.rotateY=k(m(-p[0][2]))||0,0!==o(d.rotateY)?(d.rotateX=k(n(p[1][2],p[2][2]))||0,d.rotateZ=k(n(p[0][1],p[0][0]))||0):(d.rotateX=k(n(-p[2][0],p[1][1]))||0,d.rotateZ=0),d},F=function(a,b){var c=a||b||0;return""+c.toFixed(20)},G=function(a,b){return F(a,b)+"px"},H=function(a,b){return F(a,b)+"deg"};return{fromCssMatrix:function(a){var b=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];if(a&&"none"!==a){var c=a.split("(")[1].split(")")[0].split(",").map(Number);if(a.match(/^matrix\(/))b[0][0]=c[0],b[1][0]=c[1],b[0][1]=c[2],b[1][1]=c[3],b[3][0]=c[4],b[3][1]=c[5];else for(var d=0;16>d;d++){var e=q(d/4),f=d%4;b[e][f]=c[d]}}return E(b)},toCssMatrix:function(a){var b=[F(a.perspectiveX),F(a.perspectiveY),F(a.perspectiveZ),F(a.perspectiveW,1)],c=[G(a.translateX),G(a.translateY),G(a.translateZ)],d=[F(a.scaleX),F(a.scaleY),F(a.scaleZ)],e=[H(a.rotateX),H(a.rotateY),H(a.rotateZ)],f=[F(a.skewXY),F(a.skewXZ),F(a.skewYZ)];return["matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+b.join(",")+")","translate3d("+c.join(",")+")","rotateX("+e[0]+") rotateY("+e[1]+") rotateZ("+e[2]+")","matrix3d(1,0,0,0,0,1,0,0,0,"+f[2]+",1,0,0,0,0,1)","matrix3d(1,0,0,0,0,1,0,0,"+f[1]+",0,1,0,0,0,0,1)","matrix3d(1,0,0,0,"+f[0]+",1,0,0,0,0,1,0,0,0,0,1)","scale3d("+d.join(",")+")"].join(" ")},get:function(a){return this.fromCssMatrix(h(a))},set:function(a,b){i(a,this.toCssMatrix(b))}}})}(),function(){"use strict";angular.module("mobile-angular-ui.gestures",["mobile-angular-ui.gestures.drag","mobile-angular-ui.gestures.swipe","mobile-angular-ui.gestures.transform"])}();