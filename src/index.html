<!DOCTYPE html>
<html lang="en" ng-app='jMaticApp'>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>jMatic</title>

    <!-- 3rd party deps -->
    <link rel="stylesheet" type="text/css" href="./lib/angular/modules/ngDialog/css/ngDialog.min.css">
    <link rel="stylesheet" type="text/css" href="./lib/angular/modules/ngDialog/css/ngDialog-theme-default.min.css">
    <link rel="stylesheet" type="text/css" href="./lib/angular/modules/ngDialog/css/ngDialog-theme-plain.min.css">
    <link rel="stylesheet" type="text/css" href="./lib/angular/modules/toasty/css/ng-toasty.css">
    <link rel="stylesheet" type="text/css" href="./lib/angular/mobile-ui/css/mobile-angular-ui-hover.min.css" />
    <link rel="stylesheet" type="text/css" href="./lib/angular/mobile-ui/css/mobile-angular-ui-base.min.css" />
    <link rel="stylesheet" type="text/css" href="./lib/angular/mobile-ui/css/mobile-angular-ui-desktop.min.css" />
    <script src="./lib/xml2json/xml2json.min.js"></script>
    <script src="./lib/jQuery/jquery-2.1.3.min.js"></script>
    <script src="./lib/angular/core/angular.js"></script>
    <script src="./lib/angular/modules/route/angular-route.min.js"></script>
    <script src="./lib/angular/modules/ngDialog/js/ngDialog.min.js"></script>
    <script src="./lib/angular/modules/animate/angular-animate.min.js"></script>
    <script src="./lib/angular/modules/toasty/js/ng-toasty.min.js"></script>
    <script src="./lib/angular/mobile-ui/js/mobile-angular-ui.min.js"></script>

    <!-- own sources -->
    <link rel="stylesheet" type="text/css" href="./css/jMatic.css">
    <link rel="stylesheet" type="text/css" href="./css/menu.css">

    <script src="./js/common.js"></script>
    <script src="./js/XMLparsing.js"></script>
    <script src="./js/data.js"></script>
    <script src="./js/jMaticController.js"></script>

    <script src="./js/compiled_templates.js"></script>
    <script src="./js/userdefined_groups.js"></script>

    <!-- angular page templates -->
    <script type="text/ng-template" id="c_systemVariables_input_template">
        <style>
            .error {
                background-color: #FF3333;
            }
        </style>
        <form name="inputForm" style="margin-bottom: 15px;">
            <div>{{ngDialogData.name}}:</div>
            <div ng-show="ngDialogData.sysVarType==SysVarDataType.logic||ngDialogData.sysVarType==SysVarDataType.option">
                <select auto-focus ng-model="ngDialogData.displayValue" ng-options="data for (propname, data) in ngDialogData.valueMapping"></select>
            </div>
            <div ng-show="ngDialogData.sysVarType==SysVarDataType.number">
                <input auto-focus ng-class="!inputForm.number.$valid ? 'error' : ''" type="number" name="number" ng-model="ngDialogData.displayValue" min="{{ngDialogData.min}}" max="{{ngDialogData.max}}" required />
                <div ng-show="!inputForm.number.$valid">ERROR: {{inputForm.number.$error}}</div>
            </div>
            <div ng-show="ngDialogData.sysVarType==SysVarDataType.string">
                <input auto-focus type="text" ng-model="ngDialogData.displayValue" />
            </div>
        </form>

        <button ng-click="closeThisDialog('OK')" ng-disabled="inputForm.$invalid">Send</button>
        <button ng-click="closeThisDialog()">Cancel</button>
    </script>
</head>
<body ng-app="jMaticApp" ng-controller="MainController">
    <!-- Sidebars -->
    <div ui-track-as-search-param='true' class="sidebar sidebar-left">
        <div class="scrollable">
            <h3 class="scrollable-header app-name">jMatic</h3>
            <div class="scrollable-content">
                <div class="list-group" ui-turn-off='uiSidebarLeft'>
                    <a class="list-group-item" href="#/deviceState">Device State <i class="fa fa-chevron-right pull-right"></i></a>
                    <a class="list-group-item" href="#/deviceConfig">Abo Config <i class="fa fa-chevron-right pull-right"></i></a>
                    <a class="list-group-item" href="#/batteryCheck">Battery Check <i class="fa fa-chevron-right pull-right"></i></a>
                    <a class="list-group-item" href="#/sysVars">System variables <i class="fa fa-chevron-right pull-right"></i></a>
                </div>
            </div>
        </div>
    </div>

    <div class="app">
        <!-- ng-swipe-right='Ui.turnOn("uiSidebarLeft")' ng-swipe-left='Ui.turnOff("uiSidebarLeft")'> -->
        <!-- Navbars -->
        <div class="navbar navbar-app navbar-absolute-top">
            <div class="navbar-brand navbar-brand-center" ui-yield-to="title">
                jMatic
            </div>

            <div class="btn-group pull-left">
                <div ui-toggle="uiSidebarLeft" class="btn sidebar-toggle">
                    <i class="fa fa-bars"></i> Menu
                </div>
            </div>
            <div class="navbar-brand pull-right">
                jMatic
            </div>
        </div>

        <!-- App Body -->
        <div class="app-body" ng-class="{loading: loading}">
            <div ng-show="loading" class="app-content-loading">
                <i class="fa fa-spinner fa-spin loading-spinner"></i>
            </div>
            <div class="app-content">
                <div class="scrollable section" ng-view>
                </div>
            </div>
        </div>
        <div ui-yield-to="modals"></div>
        <!-- Toasty controller, add this to your index page / default template -->
        <div>
            <toasty-container toasty-defaults='{"timeout": 3000, "close-button":true}'></toasty-container>
        </div>
</body>
</html>